name: Backend deployment pipeline

on:
  [push]

env:
  SKIP_TAG: ${{ contains(join(github.event.commits.*.message, ' '), '#skip') }}

jobs: 
  tag_release:
    needs: backend_deployment_pipeline 
    runs-on: ubuntu-20.04
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: '0' 
      - name: Bump version and push tag
        if: ${{ env.SKIP_TAG == 'false' }}
        uses: anothrNick/github-tag-action@1.64.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          DEFAULT_BUMP: patch
